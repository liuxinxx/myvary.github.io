<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/mac_blog.icns"><link rel="icon" type="image/png" href="/img/win_blog.ico"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content=""><meta name="author" content="John Doe"><meta name="keywords" content=""><title>Docker常用指令 - liuxin</title><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css"><link rel="stylesheet" href="/css/main.css"><script src="/js/utils.js"></script><meta name="generator" content="Hexo 4.2.1"></head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>liuxin's blog</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i class="iconfont icon-search"></i>&nbsp;&nbsp;</a></li></ul></div></div></nav><div class="view intro-2" id="background" parallax="true" style="background:url(https://lxgj.oss-cn-beijing.aliyuncs.com/blog_bg.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="container text-center white-text fadeInUp"><span class="h2" id="subtitle"></span><div class="mt-3 post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2020-06-19 15:09">2020年6月19日 下午</time></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 3.6k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 48 分钟</span></div></div></div></div></div></header><main><div class="container-fluid"><div class="row"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-md"><div class="container nopadding-md" id="board-ctn"><div class="py-5" id="board"><div class="post-content mx-auto" id="post"><article class="markdown-body"><h5 id="主要用法：docker-docker命令选项-子命令-子命令选项"><a href="#主要用法：docker-docker命令选项-子命令-子命令选项" class="headerlink" title="主要用法：docker  [ docker命令选项 ][ 子命令 ] [ 子命令选项 ]"></a>主要用法：<code>docker</code> [ <code>docker命令选项</code> ][ <code>子命令</code> ] [ <code>子命令选项</code> ]</h5><blockquote><p><code>docker</code> [ <code>子命令</code> ] <code>--help</code> 可查看每个子命令的详细用法。</p></blockquote><a id="more"></a><h3 id="docker命令选项列表"><a href="#docker命令选项列表" class="headerlink" title="docker命令选项列表"></a>docker命令选项列表</h3><hr><table><thead><tr><th>选项</th><th>说明</th><th>其他</th></tr></thead><tbody><tr><td>–config [string]</td><td>客户端本地配置文件路径</td><td>默认为 <code>~/.docker</code></td></tr><tr><td>-D, –debug</td><td>启用调试模式</td><td></td></tr><tr><td>–help</td><td>打印用法</td><td></td></tr><tr><td>-H, –host list</td><td>通过socket访问指定的docker守护进程(服务端)</td><td><code>unix://</code> , <code>fd://</code> , <code>tcp://</code></td></tr><tr><td>-l, –log-level [string]</td><td>设置日志级别 (<code>debug</code> 、<code>info</code> 、<code>warn</code> 、<code>error</code> 、<code>fatal</code>)</td><td>默认为 <code>info</code></td></tr><tr><td>–tls</td><td>启用TLS加密</td><td></td></tr><tr><td>–tlscacert [string]</td><td>指定信任的CA根证书路径</td><td>默认为 <code>~/.docker/ca.pem</code></td></tr><tr><td>–tlscert [string]</td><td>客户端证书路径</td><td>默认为 <code>~/.docker/cert.pem</code></td></tr><tr><td>–tlskey [string]</td><td>客户端证书私钥路径</td><td>默认为 <code>~/.docker/key.pem</code></td></tr><tr><td>–tlsverify</td><td>启用TLS加密并验证客户端证书</td><td></td></tr><tr><td>-v, –version</td><td>打印docker客户端版本信息</td><td></td></tr></tbody></table><h3 id="1-镜像仓库相关"><a href="#1-镜像仓库相关" class="headerlink" title="1. 镜像仓库相关"></a>1. 镜像仓库相关</h3><hr><h4 id="1-1-查找镜像"><a href="#1-1-查找镜像" class="headerlink" title="1.1 查找镜像"></a>1.1 查找镜像</h4><blockquote><p>docker search [条件]</p></blockquote><pre><code class="hljs routeros"><span class="hljs-comment"># 查询三颗星及以上名字包含alpine的镜像</span>
docker search <span class="hljs-attribute">-f</span>=stars=3 alpine</code></pre><h4 id="1-2-获取镜像"><a href="#1-2-获取镜像" class="headerlink" title="1.2 获取镜像"></a>1.2 获取镜像</h4><blockquote><p>docker pull [仓库]:[tag]</p></blockquote><p>仓库格式为 <code>[仓库url]/[用户名]/[应用名]</code> , 除了官方仓库外的第三方仓库要指定url, 用户名就是在对应仓库下建立的账户, 一般只有应用名的仓库代表官方镜像, 如 <code>ubuntu</code>、<code>tomcat</code> 等, 而 <code>tag</code> 表示镜像的版本号, 不指定时默认为 <code>latest</code></p><pre><code class="hljs nginx"><span class="hljs-comment"># 获取alpine Linux 的镜像</span>
<span class="hljs-attribute">docker</span> pull alpine</code></pre><h4 id="1-3-推送镜像到仓库"><a href="#1-3-推送镜像到仓库" class="headerlink" title="1.3 推送镜像到仓库"></a>1.3 推送镜像到仓库</h4><blockquote><p>docker push [镜像名]:[tag]</p></blockquote><p>当然, 需要先登录</p><pre><code class="hljs routeros">ubuntu@VM-84-201-ubuntu:~$ docker push alpine
The push refers <span class="hljs-keyword">to</span> a repository [docker.io/library/alpine]
3fb66f713c9f: Layer already exists
errors:
denied: requested access <span class="hljs-keyword">to</span> the<span class="hljs-built_in"> resource </span>is denied(没有权限, 需要登录帐号)
unauthorized: authentication required</code></pre><h4 id="1-4-登录-退出第三方仓库"><a href="#1-4-登录-退出第三方仓库" class="headerlink" title="1.4 登录/退出第三方仓库"></a>1.4 登录/退出第三方仓库</h4><blockquote><p>docker [login/logout] [仓库地址]</p></blockquote><pre><code class="hljs angelscript"># 登录
<span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker login daocloud.io
Username (username): username
Password:
Login Succeeded
# 退出
<span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker logout daocloud.io
Removing login credentials <span class="hljs-keyword">for</span> daocloud.io</code></pre><h3 id="2-本地镜像"><a href="#2-本地镜像" class="headerlink" title="2. 本地镜像"></a>2. 本地镜像</h3><hr><h4 id="2-1-查看本地镜像"><a href="#2-1-查看本地镜像" class="headerlink" title="2.1 查看本地镜像"></a>2.1 查看本地镜像</h4><blockquote><p>docker images</p></blockquote><pre><code class="hljs angelscript"><span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
alpine              latest              a41a7446062d        <span class="hljs-number">14</span> hours ago        <span class="hljs-number">3.97</span>MB
hello-world         latest              <span class="hljs-number">48</span>b5124b2768        <span class="hljs-number">4</span> months ago        <span class="hljs-number">1.84</span>kB</code></pre><h4 id="2-2-删除本地镜像"><a href="#2-2-删除本地镜像" class="headerlink" title="2.2 删除本地镜像"></a>2.2 删除本地镜像</h4><blockquote><p>docker rmi [镜像名 or 镜像id]</p></blockquote><p>如果用镜像id作为参数, 可以只输入前几位, 能唯一确定即可(可以同时删除多个镜像, 空格隔开)。此外, 如果该镜像启动了容器需要先删除容器。</p><pre><code class="hljs groovy">ubuntu<span class="hljs-meta">@VM</span><span class="hljs-number">-84</span><span class="hljs-number">-201</span>-<span class="hljs-string">ubuntu:</span>~$ docker rmi a41
<span class="hljs-string">Untagged:</span> <span class="hljs-string">alpine:</span>latest
<span class="hljs-string">Untagged:</span> alpine<span class="hljs-meta">@sha</span><span class="hljs-string">256:</span><span class="hljs-number">0</span>b94d1d1b5eb130dd0253374552445b39470653fb1a1ec2d81490948876e462c
<span class="hljs-string">Deleted:</span> <span class="hljs-string">sha256:</span>a41a7446062d197dd4b21b38122dcc7b2399deb0750c4110925a7dd37c80f118
<span class="hljs-string">Deleted:</span> <span class="hljs-string">sha256:</span><span class="hljs-number">3</span>fb66f713c9fa9debcdaa58bb9858bd04c17350d9614b7a250ec0ee527319e59</code></pre><h4 id="2-3-查看镜像详情"><a href="#2-3-查看镜像详情" class="headerlink" title="2.3 查看镜像详情"></a>2.3 查看镜像详情</h4><blockquote><p>docker inspect [镜像名 or 镜像id]</p></blockquote><pre><code class="hljs prolog">ubuntu@<span class="hljs-symbol">VM</span><span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker inspect a41
[
    &#123;
        <span class="hljs-string">"Id"</span>: <span class="hljs-string">"sha256:a41a7446062d197dd4b21b38122dcc7b2399deb0750c4110925a7dd37c80f118"</span>,
        <span class="hljs-string">"RepoTags"</span>: [
            <span class="hljs-string">"alpine:latest"</span>
        ],
        <span class="hljs-string">"RepoDigests"</span>: [
            <span class="hljs-string">"alpine@sha256:0b94d1d1b5eb130dd0253374552445b39470653fb1a1ec2d81490948876e462c"</span>
        ],
        <span class="hljs-string">"Parent"</span>: <span class="hljs-string">""</span>,
        <span class="hljs-string">"Comment"</span>: <span class="hljs-string">""</span>,
        <span class="hljs-string">"Created"</span>: <span class="hljs-string">"2017-05-25T23:33:22.029729271Z"</span>,
        <span class="hljs-string">"Container"</span>: <span class="hljs-string">"19ee1cd90c07eb7b3c359aaec3706e269a871064cca47801122444cef51c5038"</span>,
    ......
        &#125;
    &#125;
]</code></pre><h4 id="2-4-打包本地镜像-使用压缩包来完成迁移"><a href="#2-4-打包本地镜像-使用压缩包来完成迁移" class="headerlink" title="2.4 打包本地镜像, 使用压缩包来完成迁移"></a>2.4 打包本地镜像, 使用压缩包来完成迁移</h4><blockquote><p>docker save [镜像名] &gt; [文件路径]</p></blockquote><pre><code class="hljs awk"><span class="hljs-comment"># 默认为文件流输出</span>
docker save alpine &gt; <span class="hljs-regexp">/usr/</span>anyesu<span class="hljs-regexp">/docker/</span>alpine.img

<span class="hljs-comment"># 或者使用 '-o' 选项指定输出文件路径</span>
docker save -o <span class="hljs-regexp">/usr/</span>anyesu<span class="hljs-regexp">/docker/</span>alpine.img alpine</code></pre><h4 id="2-5-导入镜像压缩包"><a href="#2-5-导入镜像压缩包" class="headerlink" title="2.5 导入镜像压缩包"></a>2.5 导入镜像压缩包</h4><blockquote><p>docker load &lt; [文件路径]</p></blockquote><pre><code class="hljs angelscript"># 默认从标准输入读取
<span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker load &lt; /usr/anyesu/docker/alpine.img
<span class="hljs-number">3f</span>b66f713c9f: Loading layer [==================================================&gt;]  <span class="hljs-number">4.221</span>MB/<span class="hljs-number">4.221</span>MB
Loaded image: alpine:latest

# 用 <span class="hljs-string">'-i'</span> 选项指定输入文件路径
<span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker load -i /usr/anyesu/docker/alpine.img
Loaded image: alpine:latest
Loaded image ID: sha256:<span class="hljs-number">665f</span>fb03bfaea7d8b7472edc0a741b429267db249b1fcead457886e861eae25f
Loaded image ID: sha256:a41a7446062d197dd4b21b38122dcc7b2399deb0750c4110925a7dd37c80f118</code></pre><h4 id="2-6-修改镜像tag"><a href="#2-6-修改镜像tag" class="headerlink" title="2.6 修改镜像tag"></a>2.6 修改镜像tag</h4><blockquote><p>docker tag [镜像名 or 镜像id] [新镜像名]:[新tag]</p></blockquote><pre><code class="hljs angelscript"><span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker tag a41 anyesu/alpine:<span class="hljs-number">1.0</span>
<span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
anyesu/alpine       <span class="hljs-number">1.0</span>                 a41a7446062d        <span class="hljs-number">15</span> hours ago        <span class="hljs-number">3.97</span>MB
alpine              latest              a41a7446062d        <span class="hljs-number">15</span> hours ago        <span class="hljs-number">3.97</span>MB
hello-world         latest              <span class="hljs-number">48</span>b5124b2768        <span class="hljs-number">4</span> months ago        <span class="hljs-number">1.84</span>kB</code></pre><h3 id="3-容器相关"><a href="#3-容器相关" class="headerlink" title="3. 容器相关"></a>3. 容器相关</h3><hr><h4 id="3-1-创建、启动容器并执行相应的命令"><a href="#3-1-创建、启动容器并执行相应的命令" class="headerlink" title="3.1 创建、启动容器并执行相应的命令"></a>3.1 创建、启动容器并执行相应的命令</h4><blockquote><p>docker run [参数] [镜像名 or 镜像id] [命令]</p></blockquote><p>如果没有指定命令是执行镜像默认的命令, 创建镜像的时候可设置。另外要注意的一点, 启动容器后要执行一个前台进程(就是能在控制台不断输出的, 如tomcat的catalina.sh)才能使容器保持运行状态, 否则, 命令执行完容器就关闭了, 比如下面这个例子。</p><pre><code class="hljs livecodeserver">ubuntu@VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker run hello-world

Hello <span class="hljs-built_in">from</span> Docker!
This message shows that your installation appears <span class="hljs-built_in">to</span> be working correctly.

To generate this message, Docker took <span class="hljs-keyword">the</span> following steps:
 <span class="hljs-number">1.</span> The Docker client contacted <span class="hljs-keyword">the</span> Docker daemon.
 <span class="hljs-number">2.</span> The Docker daemon pulled <span class="hljs-keyword">the</span> <span class="hljs-string">"hello-world"</span> image <span class="hljs-built_in">from</span> <span class="hljs-keyword">the</span> Docker Hub.
 <span class="hljs-number">3.</span> The Docker daemon created <span class="hljs-keyword">a</span> <span class="hljs-built_in">new</span> container <span class="hljs-built_in">from</span> that image which runs <span class="hljs-keyword">the</span>
    executable that produces <span class="hljs-keyword">the</span> output you are currently reading.
 <span class="hljs-number">4.</span> The Docker daemon streamed that output <span class="hljs-built_in">to</span> <span class="hljs-keyword">the</span> Docker client, which sent <span class="hljs-keyword">it</span>
    <span class="hljs-built_in">to</span> your terminal.

To <span class="hljs-keyword">try</span> something more ambitious, you can run <span class="hljs-keyword">an</span> Ubuntu container <span class="hljs-keyword">with</span>:
 $ docker run -<span class="hljs-keyword">it</span> ubuntu bash

Share images, automate workflows, <span class="hljs-keyword">and</span> more <span class="hljs-keyword">with</span> <span class="hljs-keyword">a</span> free Docker ID:
 <span class="hljs-keyword">https</span>://cloud.docker.com/

For more examples <span class="hljs-keyword">and</span> ideas, visit:
 <span class="hljs-keyword">https</span>://docs.docker.com/engine/userguide/</code></pre><h4 id="run命令常用选项"><a href="#run命令常用选项" class="headerlink" title="run命令常用选项"></a>run命令常用选项</h4><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>-d</td><td>后台运行容器, 并返回容器ID；不指定时, 启动后开始打印日志, <code>Ctrl + C</code> 退出命令同时会关闭容器</td></tr><tr><td>-i</td><td>以交互模式运行容器, 通常与 -t 同时使用；</td></tr><tr><td>-t</td><td>为容器重新分配一个伪输入终端, 通常与 -i 同时使用</td></tr><tr><td>–name “anyesu-container”</td><td>为容器指定一个别名, 不指定时随机生成</td></tr><tr><td>-h docker-anyesu</td><td>设置容器的主机名, 默认随机生成</td></tr><tr><td>–dns 8.8.8.8</td><td>指定容器使用的DNS服务器, 默认和宿主一致</td></tr><tr><td>-e docker_host=172.17.0.1</td><td>设置环境变量</td></tr><tr><td>–cpuset=”0-2” or –cpuset=”0,1,2”</td><td>绑定容器到指定CPU运行</td></tr><tr><td>-m 100M</td><td>设置容器使用内存最大值</td></tr><tr><td>–net bridge</td><td>指定容器的网络连接类型, 支持 <code>bridge</code> / <code>host</code> / <code>none</code> / <code>container</code> 四种类型</td></tr><tr><td>–ip 172.18.0.13</td><td>为容器分配固定ip(需要使用自定义网络)</td></tr><tr><td>–expose 8081 –expose 8082</td><td>开放一个端口或一组端口, 会覆盖镜像设置中开放的端口</td></tr><tr><td>-p [宿主机端口]:[容器内端口]</td><td>宿主机到容器的端口映射, 可指定宿主机的要监听的ip, 默认为 <code>0.0.0.0</code></td></tr><tr><td>-P</td><td>注意是大写的, 宿主机随机指定一组可用的端口映射容器 <code>expose</code> 的所有端口</td></tr><tr><td>-v [宿主机目录路径]:[容器内目录路径]</td><td>挂载宿主机的指定目录(或文件)到容器内的指定目录(或文件)</td></tr><tr><td>–add-host [主机名]:[ip]</td><td>为容器hosts文件追加host, 默认会在hosts文件最后追加 <code>[主机名]:[容器ip]</code></td></tr><tr><td>–volumes-from [其他容器名]</td><td>将其他容器的数据卷添加到此容器</td></tr><tr><td>–link [其他容器名]:[在该容器中的别名]</td><td>添加链接到另一个容器, 在本容器hosts文件中加入关联容器的记录, 效果类似于 <code>--add-host</code></td></tr></tbody></table><blockquote><p>单字符选项可以合并, 如 <code>-i -t</code> 可以合并为 <code>-it</code></p></blockquote><pre><code class="hljs angelscript"># 创建一个名为anyesu_net、网段为<span class="hljs-number">172.18</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>的网桥(docker默认创建的网段为<span class="hljs-number">172.17</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>)
docker network create --subnet=<span class="hljs-number">172.18</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>/<span class="hljs-number">16</span> anyesu_net

# 创建并启动一个配置复杂的容器
<span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker run -d --name anyesu-container -h docker-anyesu --dns <span class="hljs-number">8.8</span><span class="hljs-number">.8</span><span class="hljs-number">.8</span> -e docker_host=<span class="hljs-number">172.18</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> -e docker_host2=<span class="hljs-number">172.18</span><span class="hljs-number">.0</span><span class="hljs-number">.2</span> --net anyesu_net --ip <span class="hljs-number">172.18</span><span class="hljs-number">.0</span><span class="hljs-number">.13</span> --expose <span class="hljs-number">8081</span> --expose <span class="hljs-number">8082</span> -P -p <span class="hljs-number">8000</span>:<span class="hljs-number">8000</span> -p <span class="hljs-number">8001</span>:<span class="hljs-number">8001</span> -v /usr/anyesu:/usr/anyesu --add-host anyesu_host:<span class="hljs-number">172.18</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> tomcat:<span class="hljs-number">7</span>
<span class="hljs-number">912e6632161</span>de0783a057aa02380e676753f66cfb367ef1686d4d09cdc931659
<span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                                                                                                         NAMES
<span class="hljs-number">912e6632161</span>d        tomcat:<span class="hljs-number">7</span>              <span class="hljs-string">"catalina.sh run"</span>   <span class="hljs-number">6</span> seconds ago       Up <span class="hljs-number">5</span> seconds        <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">8000</span><span class="hljs-number">-8001</span>-&gt;<span class="hljs-number">8000</span><span class="hljs-number">-8001</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">32783</span>-&gt;<span class="hljs-number">8080</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">32782</span>-&gt;<span class="hljs-number">8081</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">32781</span>-&gt;<span class="hljs-number">8082</span>/tcp   anyesu-container</code></pre><h4 id="3-2-查看运行中的容器"><a href="#3-2-查看运行中的容器" class="headerlink" title="3.2 查看运行中的容器"></a>3.2 查看运行中的容器</h4><pre><code class="hljs ebnf"><span class="hljs-attribute">docker ps</span></code></pre><p>加 <code>-a</code> 选项可查看所有的容器</p><h4 id="3-3-开启-停止-重启容器"><a href="#3-3-开启-停止-重启容器" class="headerlink" title="3.3 开启/停止/重启容器"></a>3.3 开启/停止/重启容器</h4><pre><code class="hljs sql"><span class="hljs-comment"># 关闭容器(发送SIGTERM信号,做一些'退出前工作',再发送SIGKILL信号)</span>
docker <span class="hljs-keyword">stop</span> anyesu-<span class="hljs-keyword">container</span>
<span class="hljs-comment"># 强制关闭容器(默认发送SIGKILL信号, 加-s参数可以发送其他信号)</span>
docker <span class="hljs-keyword">kill</span> anyesu-<span class="hljs-keyword">container</span>
<span class="hljs-comment"># 启动容器</span>
docker <span class="hljs-keyword">start</span> anyesu-<span class="hljs-keyword">container</span>
<span class="hljs-comment"># 重启容器</span>
docker restart anyesu-<span class="hljs-keyword">container</span></code></pre><h4 id="3-4-删除容器"><a href="#3-4-删除容器" class="headerlink" title="3.4 删除容器"></a>3.4 删除容器</h4><blockquote><p>docker rm [容器名 or 容器id]</p></blockquote><p>可以指定多个容器一起删除, 加 <code>-f</code> 选项可强制删除正在运行的容器</p><pre><code class="hljs angelscript"><span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED              STATUS              PORTS                                                                                                         NAMES
fd7a6c1ba0f0        tomcat              <span class="hljs-string">"catalina.sh run"</span>   <span class="hljs-number">20</span> seconds ago       Up <span class="hljs-number">18</span> seconds       <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">32798</span>-&gt;<span class="hljs-number">8080</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">32797</span>-&gt;<span class="hljs-number">8081</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">32796</span>-&gt;<span class="hljs-number">8082</span>/tcp                                     musing_newton
<span class="hljs-number">61941</span>bea1c87        tomcat              <span class="hljs-string">"catalina.sh run"</span>   About a minute ago   Up About a minute   <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">8000</span><span class="hljs-number">-8001</span>-&gt;<span class="hljs-number">8000</span><span class="hljs-number">-8001</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">32795</span>-&gt;<span class="hljs-number">8080</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">32794</span>-&gt;<span class="hljs-number">8081</span>/tcp, <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">32793</span>-&gt;<span class="hljs-number">8082</span>/tcp   anyesu-container
<span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker rm musing_newton anyesu-container -f
musing_newton
anyesu-container</code></pre><h4 id="3-5-查看容器详情"><a href="#3-5-查看容器详情" class="headerlink" title="3.5 查看容器详情"></a>3.5 查看容器详情</h4><blockquote><p>docker inspect [容器名 or 容器id]</p></blockquote><pre><code class="hljs axapta">docker inspect anyesu-<span class="hljs-keyword">container</span></code></pre><h4 id="3-6-查看容器中正在运行的进程"><a href="#3-6-查看容器中正在运行的进程" class="headerlink" title="3.6 查看容器中正在运行的进程"></a>3.6 查看容器中正在运行的进程</h4><blockquote><p>docker top [容器名 or 容器id]</p></blockquote><pre><code class="hljs groovy">ubuntu<span class="hljs-meta">@VM</span><span class="hljs-number">-84</span><span class="hljs-number">-201</span>-<span class="hljs-string">ubuntu:</span>~$ docker top anyesu-container
UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD
root                <span class="hljs-number">31769</span>               <span class="hljs-number">31752</span>               <span class="hljs-number">1</span>                   <span class="hljs-number">00</span>:<span class="hljs-number">26</span>               ?                   00:<span class="hljs-number">00</span>:<span class="hljs-number">03</span>            <span class="hljs-regexp">/docker-java-home/</span>jre<span class="hljs-regexp">/bin/</span>java -Djava.util.logging.config.file=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/tomcat/</span>conf<span class="hljs-regexp">/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -classpath /</span>usr<span class="hljs-regexp">/local/</span>tomcat<span class="hljs-regexp">/bin/</span>bootstrap.<span class="hljs-string">jar:</span><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/tomcat/</span>bin<span class="hljs-regexp">/tomcat-juli.jar -Dcatalina.base=/</span>usr<span class="hljs-regexp">/local/</span>tomcat -Dcatalina.home=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/tomcat -Djava.io.tmpdir=/</span>usr<span class="hljs-regexp">/local/</span>tomcat/temp org.apache.catalina.startup.Bootstrap start</code></pre><h4 id="3-7-将容器保存为镜像"><a href="#3-7-将容器保存为镜像" class="headerlink" title="3.7 将容器保存为镜像"></a>3.7 将容器保存为镜像</h4><blockquote><p>docker commit [容器名 or 容器id] [镜像名]:[tag]</p></blockquote><pre><code class="hljs angelscript"><span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker commit anyesu-container anyesu/tomcat:<span class="hljs-number">1.0</span>
sha256:<span class="hljs-number">582f</span>cffd3209a2478e2179c9381a1ef67e0df9ba95aba713875c0857f5dae4e5
<span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
anyesu/tomcat       <span class="hljs-number">1.0</span>                 <span class="hljs-number">582f</span>cffd3209        <span class="hljs-number">2</span> seconds ago       <span class="hljs-number">334</span>MB
alpine              latest              a41a7446062d        <span class="hljs-number">17</span> hours ago        <span class="hljs-number">3.97</span>MB
tomcat              latest              <span class="hljs-number">3695</span>a0fe8320        <span class="hljs-number">2</span> days ago          <span class="hljs-number">334</span>MB
hello-world         latest              <span class="hljs-number">48</span>b5124b2768        <span class="hljs-number">4</span> months ago        <span class="hljs-number">1.84</span>kB</code></pre><h4 id="3-8-使用Dockerfile构建镜像"><a href="#3-8-使用Dockerfile构建镜像" class="headerlink" title="3.8 使用Dockerfile构建镜像"></a>3.8 使用Dockerfile构建镜像</h4><blockquote><p>docker build -t [镜像名]:[tag] -f [DockerFile名] [DockerFile所在目录]</p></blockquote><p>数据是实时更新的, <a href="https://www.jianshu.com/p/a0892512f86c" target="_blank" rel="noopener">点击</a>查看详细用法</p><h3 id="4-硬件资源相关"><a href="#4-硬件资源相关" class="headerlink" title="4. 硬件资源相关"></a>4. 硬件资源相关</h3><hr><h4 id="4-1-显示容器硬件资源使用情况"><a href="#4-1-显示容器硬件资源使用情况" class="headerlink" title="4.1 显示容器硬件资源使用情况"></a>4.1 显示容器硬件资源使用情况</h4><blockquote><p>docker stats [选项] [0个或多个正在运行容器]</p></blockquote><pre><code class="hljs angelscript"># 不指定容器时显示所有正在运行的容器
<span class="hljs-symbol">ubuntu@</span>VM<span class="hljs-number">-84</span><span class="hljs-number">-201</span>-ubuntu:~$ docker stats
CONTAINER           CPU %               MEM USAGE / LIMIT     MEM %               NET I/O             BLOCK I/O           PIDS
<span class="hljs-number">9</span>bb9d6bed6e6        <span class="hljs-number">0.00</span>%               <span class="hljs-number">20.57</span>MiB / <span class="hljs-number">864.5</span>MiB   <span class="hljs-number">2.38</span>%               <span class="hljs-number">104</span>kB / <span class="hljs-number">1.99</span>MB      <span class="hljs-number">4.9</span>MB / <span class="hljs-number">4.1</span>kB       <span class="hljs-number">11</span></code></pre><h4 id="4-2-更新容器的硬件资源限制"><a href="#4-2-更新容器的硬件资源限制" class="headerlink" title="4.2 更新容器的硬件资源限制"></a>4.2 更新容器的硬件资源限制</h4><blockquote><p>docker update [选项]</p></blockquote><p>这个操作可能会显示下面的内容</p><blockquote><p>Your kernel does not support swap limit capabilities or the cgroup is not mounted. Memory limited without swap</p></blockquote><p><a href="https://link.jianshu.com?t=https://segmentfault.com/q/1010000002888521#a-1020000002890127" target="_blank" rel="noopener">解决办法</a></p><pre><code class="hljs vala"><span class="hljs-meta"># /etc/default/grub</span>
sudo vi /etc/<span class="hljs-keyword">default</span>/grub

<span class="hljs-meta"># 添加内核启动参数</span>
GRUB_CMDLINE_LINUX=<span class="hljs-string">"...   cgroup_enable=memory swapaccount=1"</span>

<span class="hljs-meta"># 更新 grub</span>
sudo update-grub

<span class="hljs-meta"># 重启</span>
sudo reboot</code></pre><p>注意是在 <code>GRUB_CMDLINE_LINUX</code> 项追加上述参数内容, 我试过简单粗暴的在文件末尾添加下面内容, 这么做会覆盖原有的启动参数, 导致网络连接失败。网络坏了, ssh都连不上了, 幸好可以在腾讯云的网页控制台登录, 修改内容重启就好了。所以呢, 这一步操作一定要慎重。</p><h4 id="4-3-使用压力测试工具-stress-验证效果"><a href="#4-3-使用压力测试工具-stress-验证效果" class="headerlink" title="4.3 使用压力测试工具 stress 验证效果"></a>4.3 使用压力测试工具 <code>stress</code> 验证效果</h4><p>使用已有的stress镜像 <a href="https://link.jianshu.com?t=https://hub.docker.com/r/progrium/stress" target="_blank" rel="noopener">progrium/stress</a>, 开两个终端, 在一个终端中执行下面命令</p><pre><code class="hljs angelscript">docker run -m <span class="hljs-number">100</span>m --rm -it progrium/stress --cpu <span class="hljs-number">2</span> --io <span class="hljs-number">1</span> --vm <span class="hljs-number">10</span> --vm-bytes <span class="hljs-number">9</span>M</code></pre><p>在另一个终端执行 <code>docker stats</code> 进行监控</p><pre><code class="hljs angelscript">CONTAINER           CPU %               MEM USAGE / LIMIT   MEM %               NET I/O             BLOCK I/O           PIDS
<span class="hljs-number">9</span>eb0                <span class="hljs-number">88.42</span>%              <span class="hljs-number">92.22</span>MiB / <span class="hljs-number">100</span>MiB   <span class="hljs-number">92.22</span>%              <span class="hljs-number">0</span>B / <span class="hljs-number">0</span>B             <span class="hljs-number">1.65</span>MB / <span class="hljs-number">2.88</span>MB     <span class="hljs-number">14</span></code></pre><p>再开一个终端执行</p><pre><code class="hljs angelscript"># <span class="hljs-number">9</span>eb0为容器id开头, 请根据实际情况替换。内存限制只能调大不能调小
docker update -m <span class="hljs-number">200</span>m <span class="hljs-number">9</span>eb0</code></pre><h5 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章:"></a>相关文章:</h5><ul><li><a href="https://link.jianshu.com?t=http://www.cnblogs.com/liuyansheng/p/6113512.html" target="_blank" rel="noopener">docker容器的参数如何指定配额</a></li><li><a href="https://link.jianshu.com?t=http://www.cnblogs.com/ilinuxer/p/6648681.html" target="_blank" rel="noopener">设置Docker容器中Java应用的内存限制</a></li><li><a href="https://link.jianshu.com?t=http://blog.csdn.net/candcplusplus/article/details/53728507" target="_blank" rel="noopener">Docker 运行时资源限制</a></li><li><a href="https://link.jianshu.com?t=http://blog.csdn.net/s1070/article/details/52301410" target="_blank" rel="noopener">Docker内存限制</a></li></ul><h3 id="基础子命令列表"><a href="#基础子命令列表" class="headerlink" title="基础子命令列表"></a>基础子命令列表</h3><hr><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>attach</td><td>进入运行中的容器, 显示该容器的控制台界面。注意, 从该指令退出会导致容器关闭</td></tr><tr><td>build</td><td>根据 Dockerfile 文件构建镜像</td></tr><tr><td>commit</td><td>提交容器所做的改为为一个新的镜像</td></tr><tr><td>cp</td><td>在容器和宿主机之间复制文件</td></tr><tr><td>create</td><td>根据镜像生成一个新的容器</td></tr><tr><td>diff</td><td>展示容器相对于构建它的镜像内容所做的改变</td></tr><tr><td>events</td><td>实时打印服务端执行的事件</td></tr><tr><td>exec</td><td>在已运行的容器中执行命令</td></tr><tr><td>export</td><td>导出容器到本地快照文件</td></tr><tr><td>history</td><td>显示镜像每层的变更内容</td></tr><tr><td>images</td><td>列出本地所有镜像</td></tr><tr><td>import</td><td>导入本地容器快照文件为镜像</td></tr><tr><td>info</td><td>显示 Docker 详细的系统信息</td></tr><tr><td>inspect</td><td>查看容器或镜像的配置信息, 默认为json数据</td></tr><tr><td>kill</td><td><code>-s</code> 选项向容器发送信号, 默认为SIGKILL信号(强制关闭)</td></tr><tr><td>load</td><td>导入镜像压缩包</td></tr><tr><td>login</td><td>登录第三方仓库</td></tr><tr><td>logout</td><td>退出第三方仓库</td></tr><tr><td>logs</td><td>打印容器的控制台输出内容</td></tr><tr><td>pause</td><td>暂停容器</td></tr><tr><td>port</td><td>容器端口映射列表</td></tr><tr><td>ps</td><td>列出正在运行的容器, <code>-a</code> 选项显示所有容器</td></tr><tr><td>pull</td><td>从镜像仓库拉取镜像</td></tr><tr><td>push</td><td>将镜像推送到镜像仓库</td></tr><tr><td>rename</td><td>重命名容器名</td></tr><tr><td>restart</td><td>重启容器</td></tr><tr><td>rm</td><td>删除已停止的容器, <code>-f</code> 选项可强制删除正在运行的容器</td></tr><tr><td>rmi</td><td>删除镜像(必须先删除该镜像构建的所有容器)</td></tr><tr><td>run</td><td>根据镜像生成并进入一个新的容器</td></tr><tr><td>save</td><td>打包本地镜像, 使用压缩包来完成迁移</td></tr><tr><td>search</td><td>查找镜像</td></tr><tr><td>start</td><td>启动关闭的容器</td></tr><tr><td>stats</td><td>显示容器对资源的使用情况(内存、CPU、磁盘等)</td></tr><tr><td>stop</td><td>关闭正在运行的容器</td></tr><tr><td>tag</td><td>修改镜像tag</td></tr><tr><td>top</td><td>显示容器中正在运行的进程(相当于容器内执行 <code>ps -ef</code> 命令)</td></tr><tr><td>unpause</td><td>恢复暂停的容器</td></tr><tr><td>update</td><td>更新容器的硬件资源限制(内存、CPU等)</td></tr><tr><td>version</td><td>显示docker客户端和服务端版本信息</td></tr><tr><td>wait</td><td>阻塞当前命令直到对应的容器被关闭, 容器关闭后打印结束代码</td></tr><tr><td>daemon</td><td>这个子命令已过期, 将在Docker 17.12之后的版本中移出, 直接使用dockerd</td></tr></tbody></table><h3 id="用于管理的子命令列表"><a href="#用于管理的子命令列表" class="headerlink" title="用于管理的子命令列表"></a>用于管理的子命令列表</h3><hr><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>container</td><td>管理容器</td></tr><tr><td>image</td><td>管理镜像</td></tr><tr><td>network</td><td>管理容器网络(默认为bridge、host、none三个网络配置)</td></tr><tr><td>plugin</td><td>管理插件</td></tr><tr><td>system</td><td>管理系统资源。其中, <code>docker system prune</code> 命令用于清理没有使用的镜像, 容器, 数据卷以及网络</td></tr><tr><td>volume</td><td>管理数据卷</td></tr><tr><td>swarm</td><td>管理Swarm模式</td></tr><tr><td>service</td><td>管理Swarm模式下的服务</td></tr><tr><td>node</td><td>管理Swarm模式下的docker集群中的节点</td></tr><tr><td>secret</td><td>管理Swarm模式下的敏感数据</td></tr><tr><td>stack</td><td>Swarm模式下利用compose-file管理服务</td></tr></tbody></table><h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><p>其中 <code>container</code> 、<code>image</code> 、<code>system</code> 一般用前面的简化指令即可。<code>Swarm</code> 模式用来管理docker集群, 它将一群Docker宿主机变成一个单一的虚拟的主机, 实现对多台物理机的集群管理。</p><ul><li><a href="https://link.jianshu.com?t=https://my.oschina.net/tantexian/blog/785740" target="_blank" rel="noopener">初试Docker swarm命令</a></li><li><a href="https://link.jianshu.com?t=https://yq.aliyun.com/articles/91396" target="_blank" rel="noopener">优雅地实现安全的容器编排 - Docker Secrets</a></li><li><a href="https://link.jianshu.com?t=https://segmentfault.com/a/1190000008469023" target="_blank" rel="noopener">解读1.13.1 | 探究Docker Stack和可对接网络</a></li></ul><h3 id="系列文章"><a href="#系列文章" class="headerlink" title="系列文章"></a><a href="https://www.jianshu.com/nb/13876015" target="_blank" rel="noopener">系列文章</a></h3><p><a href="https://www.jianshu.com/p/74f29cf5a999" target="_blank" rel="noopener">Docker 学习总结</a></p><p><a href="https://www.jianshu.com/p/a0892512f86c" target="_blank" rel="noopener">使用Dockerfile构建镜像</a></p><p><a href="https://www.jianshu.com/p/ee8e7d2eb645" target="_blank" rel="noopener">使用Docker-compose构建容器</a></p><p><a href="https://www.jianshu.com/p/7ba1a93e6de4" target="_blank" rel="noopener">Docker Daemon连接方式详解</a></p><p><a href="https://www.jianshu.com/p/f510aaa470cc" target="_blank" rel="noopener">Docker下的网络模式</a></p></article><hr><div><div class="post-metas mb-3"></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext row"><div class="post-prev col-6"><a href="/posts/c591c796.html"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Docker安装kafka</span> <span class="visible-mobile">上一篇</span></a></div><div class="post-next col-6"><a href="/posts/e73a6447.html"><span class="hidden-mobile">openldap logrotate切割日志</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></div></div></div></div></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div id="tocbot"></div></div></div></div></div></main><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><footer class="mt-5"><div class="text-center py-3"><div><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">总访问量 <span id="leancloud-site-pv"></span> 次 </span><span id="leancloud-site-uv-container" style="display:none">总访客数 <span id="leancloud-site-uv"></span> 人</span></div></div></footer><script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script><script src="/js/debouncer.js"></script><script src="/js/main.js"></script><script src="/js/lazyload.js"></script><script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js"></script><script src="/js/clipboard-use.js"></script><script src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js"></script><script>$(document).ready(function(){var t=$("#board-ctn").offset().top;tocbot.init({tocSelector:"#tocbot",contentSelector:"article.markdown-body",headingSelector:"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:0,scrollSmooth:!0,headingsOffset:-t}),0<$(".toc-list-item").length&&$("#toc").css("visibility","visible")})</script><script src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js"></script><script>var typed=new Typed("#subtitle",{strings:["  ","Docker常用指令&nbsp;"],cursorChar:"_",typeSpeed:70,loop:!1});typed.stop(),$(document).ready(function(){$(".typed-cursor").addClass("h2"),typed.start()})</script><script src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js"></script><script>anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))</script><script src="/js/local-search.js"></script><script>var path="/local-search.xml",inputArea=document.querySelector("#local-search-input");inputArea.onclick=function(){searchFunc(path,"local-search-input","local-search-result"),this.onclick=null}</script><script src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css"><script>$("#post img:not(.no-zoom img, img[no-zoom]), img[zoom]").each(function(){var t=document.createElement("a");$(t).attr("data-fancybox","images"),$(t).attr("href",$(this).attr("src")),$(this).wrap(t)})</script></body></html>